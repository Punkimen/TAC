"use strict";let CreditCalc=function(t){const e=t(".credits-head__item"),n=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ");let i=t(".number-input"),s=1;e.on("click",(function(){return t(this).addClass("current").siblings().removeClass("current"),t(this).is("#product1")?(t(".wrap__content--product1").show(200),t(".wrap__content--product2").hide(200)):t(this).is("#product2")&&(t(".wrap__content--product1").hide(200),t(".wrap__content--product2").show(200)),t("#product1").is(".current")?s=1:t("#product2").is(".current")&&(s=2),s=s})),i.on("change",(function(){}));let a=t(".date_plus"),l=t(".date_minus"),r=t(".sum_plus"),c=t(".sum_minus"),u=t(".get__sum"),o=function(){let e=t("#summ").val(),i=Number.parseInt(e.replace(/\s/g,"")),s=Number.parseInt(t("#term").val()),a=.01,l=i/s,r=n(Math.round(l));a=n(a),t("#get__sum").text(e),t("#return__sum").text(r);let c=.7*s+"%",u=t(".info__percent"),o=t(".quantity__center"),d=.3*s,h=Math.round(d);u.css({left:c}),o.css({left:c}),3==h||4==h?o.html(h+" дня"):o.html(h+" дней")},d=function(){t(".range").each((function(e,n){let i=t(this).find(".slider"),s=t(this).find("input").val();i.slider("value",s)}))},h=function(){t(".range").each((function(e,i){!function(e){let i=e.find("input"),s=parseInt(i.attr("data-k")),a=parseFloat(i.attr("data-min"))*s,l=parseFloat(i.attr("data-max"))*s,r=parseFloat(i.attr("data-step"))*s,c=parseFloat(i.val())*s,u=i.attr("data-min-event");i.val(n(i.val())),i.keyup((function(){var e=t(this).val();e=(e=e.replace(/\s+/g,"")).replace(/,/g,"."),t(this).val(n(e)),e=""==e?0:parseFloat(e)*s,t(this).closest(".range").find(".slider").slider({value:e})})),e.find(".slider").slider({min:a,max:l,step:r,range:"min",value:c,slide:function(t,e){var s=parseInt(i.attr("data-k")),a=parseFloat(e.value)/s;if(u&&e.value<u)return!1;a&&i.val(n(a))},change:function(t,e){o()}})}(t(this))})),r.on("click",(function(e){let n=+t(this).siblings(".summ").val().replace(/\s/g,"");1e4!==n&&(n+=500,t(this).siblings(".summ").val(n)),d(),o()})),c.on("click",(function(e){let n=+t(this).siblings(".summ").val().replace(/\s/g,"");0!==n&&(n-=500,t(this).siblings(".summ").val(n),u.html(n)),d(),o()})),a.on("click",(function(e){let n=+t(this).siblings(".term").val().replace(/\s/g,"");1==s?36!==n&&(n+=1,t(this).siblings(".term").val(n)):30!==n&&(n+=1,t(this).siblings(".term").val(n)),d(),o()})),l.on("click",(function(e){let n=+t(this).siblings(".term").val().replace(/\s/g,"");1==s?3!==n&&(n--,t(this).siblings(".term").val(n)):1!==n&&(n--,t(this).siblings(".term").val(n)),d(),o()})),o()};return{init:function(){h()}}}(jQuery);function setInputFilter(t,e,n){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach((function(i){t.addEventListener(i,(function(){t.value>n?this.value=n:e(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=n}))}))}function changePos(){$(window).width()<992?$(".credits").after($(".credits__calc")):$(".credits__content").after($(".credits__calc"))}jQuery(document).ready((function(t){CreditCalc.init()})),setInputFilter(document.getElementById("summ"),(function(t){return/^\d*\.?\d*$/.test(t)}),1e4),setInputFilter(document.getElementById("term"),(function(t){return/^\d*\.?\d*$/.test(t)}),36),changePos(),$(window).on("resize",(function(){changePos()}));